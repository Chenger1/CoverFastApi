{% extends "admin/admin_index.html" %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Contacts</title>
</head>
<body>
{% block content %}
<div style="margin-top: 20px;">
    <div class="mb-3">
        <label for="inputEmail">Email</label>
        <input type="text" class="form-control" id="inputEmail" placeholder="admin@mail.com"
        name="email" value="{{ email }}">
    </div>
    <div class="mb-3">
        <label for="inputPhoneNumber" class="form-label">Phone Number</label>
        <input class="form-control" id="inputPhoneNumber" placeholder="+38063245172" name="phone_number"
               value="{{ phone_number }}">
    </div>
    <div class="mb-3">
        <label for="inputAddress" class="form-label">Address</label>
        <input type="text" class="form-control" id="inputAddress" placeholder="Odessa, main Street"
        name="address" value="{{ address }}">
    </div>
    <button type="button" class="btn btn-secondary" id="save">Save</button>
</div>

<script src="{{ url_for('static', path='/js/requests.js') }}"></script>
<script>
    let btn = document.getElementById('save');
    btn.addEventListener('click', function(){
        let address = document.getElementsByName('address')[0]
        let email = document.getElementsByName('email')[0]
        let phone_number = document.getElementsByName('phone_number')[0]

        if (address.value != '' && email.value != '' && phone_number.value != ''){
            data = {
                'address': address.value,
                'email': email.value,
                'phone_number': phone_number.value
            }

            send_request(JSON.stringify(data), '/admin/contacts')
        }else{
            alert('Some fields are empty');
        }
        this.blur();

    })
</script>
{% endblock %}
</body>
</html>